# React 훅과 일반 함수의 차이

React에서 "훅(hook)"은 함수형 컴포넌트에서 React의 기능(상태, 생명주기 등)을 사용할 수 있게 해주는 특별한 함수입니다. 일반 함수와는 다음과 같은 차이점이 존재합니다:

---

## 1. 선언 위치의 제약

- ✅ **React 훅**
  - 컴포넌트 최상단에서만 호출 가능
  - 조건문, 반복문, 중첩 함수 안에서는 사용할 수 없음
  - 호출 순서가 변하면 안 됨 (React 내부에서 순서를 기준으로 상태를 추적하기 때문)

  ```tsx
  // 올바른 사용
  function MyComponent() {
    const [count, setCount] = useState(0);
  }

  // 잘못된 사용
  if (someCondition) {
    useState(0); // ❌ 훅을 조건문 안에서 호출
  }
  ```

- ⚠️ **일반 함수**
  - 어디서든 호출 가능
  - 순서나 위치에 제약 없음

  ```ts
  function doSomething(condition) {
    if (condition) {
      console.log("조건에 따라 실행됨"); // 일반 함수에서는 OK
    }
  }
  ```

---

## 2. React 상태와의 연결

- ✅ **React 훅**
  - React의 상태 관리 및 생명주기 시스템과 연결됨
  - `useState`, `useEffect`, `useRef`, `useMemo` 등은 컴포넌트가 렌더링될 때마다 React에 의해 추적되고 관리됨

- ⚠️ **일반 함수**
  - 내부적으로 React 시스템과 연결되어 있지 않음
  - 컴포넌트의 재렌더링과도 무관

---

## 3. 상태 유지

- ✅ **React 훅**
  - 훅이 반환한 값은 컴포넌트가 재렌더링되어도 React가 보존해줌
  - 예: `useRef`, `useState` 등

- ⚠️ **일반 함수**
  - 렌더링 시마다 함수는 다시 호출되며, 내부 지역 변수는 초기화됨

  ```tsx
  // 일반 함수는 값 유지 안 됨
  function count() {
    let c = 0;
    c++;
    return c;
  }

  count(); // 항상 1
  ```

---

## 4. React 내부 규칙 대상 여부

- ✅ **React 훅**
  - `eslint-plugin-react-hooks`의 규칙 검사 대상
  - 훅 사용 순서, 의존성 배열 등 자동 감지 및 경고

- ⚠️ **일반 함수**
  - React 훅 규칙에 해당하지 않음

---

## 요약 비교표

| 항목 | React 훅 | 일반 함수 |
|------|-----------|-------------|
| 호출 위치 제한 | 있음 | 없음 |
| React 상태 연결 | 가능 | 불가능 |
| 상태 보존 | 가능 | 불가능 |
| ESLint 검사 대상 | 대상 | 아님 |
| 컴포넌트 재렌더에 영향 | 있음 | 없음 |
| 조건문 안에서 사용 가능 여부 | ❌ 안됨 | ✅ 가능 |

---

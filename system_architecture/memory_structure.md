# 메모리 구조 & 메모리 종류 정리

## 📂 메모리 구조 (Memory Structure)
프로그램이 실행될 때 사용하는 메모리는 여러 개의 영역으로 나뉩니다.

```
📂 메모리 구조 (Memory Structure)
├── 🟢 1. 코드(Code) 영역 → 읽기 전용 (Read-Only)
│   ├── 프로그램의 실행 코드가 저장됨 (기계어로 변환된 코드)
│   ├── 실행 중 수정할 수 없음
│   ├── 전역 함수, 라이브러리 코드 포함
│
├── 🔵 2. 데이터(Data) 영역 → 전역 변수 & 정적 변수 저장
│   ├── .data (초기화된 전역/정적 변수 저장)
│   ├── .bss (초기화되지 않은 변수 저장, 실행 시 0으로 초기화)
│   ├── 프로그램 실행 중 유지됨
│
├── 🟠 3. 힙(Heap) 영역 → 동적 메모리 할당
│   ├── 실행 중 크기가 변할 수 있는 데이터 저장
│   ├── `malloc()`, `new` 등을 통해 메모리 할당
│   ├── `free()`를 호출해야 메모리 해제됨 (메모리 누수 방지)
│
├── 🔴 4. 스택(Stack) 영역 → 지역 변수 & 함수 호출 정보 저장
│   ├── 함수 호출 시, 매개변수/지역 변수/리턴 주소 저장
│   ├── 후입선출 (LIFO, Last In First Out) 구조
│   ├── 함수가 끝나면 자동으로 해제됨
│   ├── 깊은 재귀 호출 시 스택 오버플로우 발생 가능
```

---

## 📂 메모리의 종류 (Memory Types)
메모리는 크게 휘발성(Volatile)과 비휘발성(Non-Volatile)으로 나뉩니다.

```
📂 메모리 (Memory)
├── 🟢 1. 휘발성 메모리 (Volatile Memory) → 전원 OFF 시 데이터 사라짐
│   ├── 📌 RAM (Random Access Memory) → CPU가 직접 접근하는 주 기억 장치
│   │   ├── DRAM (Dynamic RAM) → 저렴하지만 속도가 느림 (일반적으로 사용됨)
│   │   ├── SRAM (Static RAM) → 빠르지만 가격이 비쌈 (CPU 캐시로 사용)
│   │
│   ├── 📌 캐시 메모리 (CPU Cache) → 초고속 메모리 (L1, L2, L3 Cache)
│   ├── 📌 레지스터 (Register) → CPU 내부의 가장 빠른 메모리
│
├── 🔵 2. 비휘발성 메모리 (Non-Volatile Memory) → 전원 OFF 시에도 데이터 유지
│   ├── 📌 ROM (Read-Only Memory) → 읽기 전용 (BIOS 저장)
│   ├── 📌 플래시 메모리 (Flash Memory) → USB, SSD 등
│   ├── 📌 HDD/SSD (하드디스크) → 대용량 저장 장치
│   ├── 📌 가상 메모리 (Virtual Memory) → RAM 부족 시 하드디스크를 메모리처럼 사용
```

---

## 🔴 2️⃣ L1, L2, L3 캐시에 데이터가 저장되는 방식
- 📌 L1, L2, L3 캐시는 서로 다른 방식으로 데이터를 저장하고 관리함.
- ✔ L1 캐시: 명령어 캐시(L1I)와 데이터 캐시(L1D)로 분리
- ✔ L2 & L3 캐시: 일반적으로 명령어와 데이터를 통합하여 저장

```
📂 CPU 캐시 계층 (Cache Memory)
├── 🟢 L1 캐시 (Level 1) → 가장 빠름, 용량 작음
│   ├── L1I (Instruction Cache) → 명령어 저장
│   ├── L1D (Data Cache) → 변수, 데이터 저장
│
├── 🔵 L2 캐시 (Level 2) → L1 캐시 보조 역할
│   ├── 명령어 & 데이터를 통합 저장 (통합형 L2 캐시)
│
├── 🟠 L3 캐시 (Level 3) → 여러 코어가 공유
│   ├── 멀티코어 CPU에서 데이터 공유 역할
```

---

## 🚀 최종 정리: 메모리 구조 & 메모리 종류
- **코드 영역:** 실행 코드 저장 (읽기 전용)
- **데이터 영역:** 전역 변수 & 정적 변수 저장 (`.data`, `.bss`)
- **힙 영역:** 동적 메모리 할당 (`malloc()`, `free()`)
- **스택 영역:** 지역 변수, 함수 호출 정보 저장 (LIFO 구조)

- **휘발성 메모리:** RAM, 캐시 메모리, 레지스터 (전원 OFF 시 데이터 삭제)
- **비휘발성 메모리:** ROM, 플래시 메모리, HDD/SSD, 가상 메모리 (전원 OFF 시 데이터 유지)

🔥 **즉, 프로그램이 실행될 때 사용하는 메모리는 여러 개의 영역으로 나뉘며, 각각의 역할이 다르고, RAM은 그중 하나일 뿐이다!** 🚀

# 💻 BSOD(블루스크린) 원인 추적 및 분석 요약

## 📅 문제 발생 타임라인

| 시기 | 오류코드 | 내용 |
|------|----------|------|
| 2025-01 | `WHEA-Logger (Event ID 1)` | 하드웨어 오류 최초 감지 (정전기 가능성 제기 시작) |
| 2025-02~03 | `0x1A (MEMORY_MANAGEMENT)` | 점차 빈도 증가. 페이지 테이블 오류 |
| 2025-04 | `0x1A (41790)` | BSOD 빈도 급증, RAM 손상 가능성 확정 수준 |

---

## 🧠 분석 요약

### 🔍 주요 BSOD 코드
- `0x1A (41790)` → **Page Table Page 손상**
- 커널이 **RAM 상의 메모리 매핑 구조 손상** 감지

### ⚠️ WHEA-Logger (이벤트 ID 1)
- **하드웨어가 자체 오류 보고**함
- 원인: RAM, CPU 캐시, 메인보드 전원 계통 가능성

### 🧪 MEMORY.DMP 분석 결과
- 오류 함수: `nt!MiDeleteVa`
- 충돌 스레드: `opera.exe` 실행 중
- 결론: **RAM 물리적 손상 가능성 매우 높음**

---

## ⚡ 정전기(ESD) 의심 근거

| 항목 | 근거 |
|------|------|
| 사용자 체감 | 정전기 2~3회 체험 (철제 다리 접촉) |
| 환경 조건 | 책상 상판은 나무, 철제 다리는 접지 안 됨 |
| 본체 접촉 | 손이 USB 포트/케이스 등 닿았을 가능성 |
| ESD 경로 | 철제 다리 → 몸 → 본체 → RAM |
| 결과 | RAM 셀 미세 손상 → BSOD 점진적 증가 |

---

## 📌 결론

> **RAM에 정전기 손상 발생 → 페이지 테이블 손상 → MEMORY_MANAGEMENT BSOD 발생**  
> 특히 `0x1A (41790)`은 RAM의 물리적 문제 가능성을 강하게 시사함

---

## ✅ 다음 단계 (액션 플랜)

| 항목 | 설명 |
|------|------|
| 🧪 MemTest86 검사 | 손상된 RAM 영역 확인 (특정 주소 반복 오류 등) |
| 🧤 정전기 방지 환경 조성 | 방지 밴드, 습도 조절, 접지 환경 확보 |
| 🔄 RAM 슬롯별 테스트 | 문제 모듈 식별 |
| 💡 RAM 교체 고려 | 오류 반복 시 확정 조치 |

---

## 🗂️ 참고 로그 및 도구
- WinDbg 분석 (`!analyze -v`)
- 이벤트 로그 (ID 1, ID 41, ID 1001)
- `MEMORY.DMP` (크기 2.1GB, 전체 덤프)
- WHEA RawData 포함
---

# 🧰 부록: 분석 도구 사용법 정리

## 🧪 1. MEMORY.DMP 및 미니덤프(minidump) 보는 방법

### 📂 MEMORY.DMP
- 위치: `C:\Windows\MEMORY.DMP`
- 분석 도구: **WinDbg**
- 명령어 흐름:
  ```txt
  1. WinDbg 실행
  2. File → Open Crash Dump → MEMORY.DMP 열기
  3. 명령어 입력:
     !analyze -v
  ```
- 결과: BSOD 원인 코드, 충돌한 모듈/드라이버, Call Stack 확인 가능

### 📂 미니덤프 (Minidump)
- 위치: `C:\Windows\Minidump\`
- 파일명 예시: `041024-12345-01.dmp` (날짜 기반)
- 분석 도구: WinDbg 또는 BlueScreenView
- WinDbg 명령어 동일 (`!analyze -v`)

---

## 🖥️ 2. 이벤트 뷰어(Event Viewer)로 시스템 로그 확인

### 경로:
```
시작 → eventvwr → 이벤트 뷰어 열기
Windows 로그 → 시스템(System)
```

### 주로 참고하는 이벤트 ID:

| 이벤트 ID | 설명 | 중요도 |
|-----------|------|--------|
| `41` | 시스템이 예기치 않게 종료됨 (Kernel-Power) | ⚠️ 강제 종료, BSOD 가능성 |
| `1001` | BugCheck 로그 (BSOD 발생 시 기록됨) | ✅ 주요 BSOD 정보 포함 |
| `1` | WHEA-Logger (하드웨어 오류 감지) | 🔥 RAM/CPU 손상 감지 로그 |
| `6008` | 예상치 못한 종료 기록 | ⚠️ 비정상 종료 시간 추적 |

### 분석 팁:
- `EventID 1001`에서 오류 코드 `0x1A`, `0x7A`, `0x3B` 등 확인 → **메모리 관련 오류 여부 파악 가능**
- `EventID 1 (WHEA)` → `RawData` 분석 필요 (WHEAViewer 사용 가능)
- `41`과 `1001`이 동시에 기록되면 거의 확실한 BSOD 발생 흔적

---


---

# 🧠 BugcheckCode 상세 분석

| Decimal | Hex    | 오류명 (Bug Check)                              | 설명 |
|---------|--------|--------------------------------------------------|------|
| **26**  | `0x1A` | `MEMORY_MANAGEMENT`                             | **RAM 손상, 페이지 테이블 오류**, 메모리 할당 실패 시 발생. 대부분의 BSOD에서 공통됨. |
| **339** | `0x153`| `KERNEL_LOCK_ENTRY_LEAKED_ON_THREAD_TERMINATION`| 스레드가 종료될 때 커널 락(lock)이 정리되지 않음. 커널 리소스 누수 또는 드라이버 문제. |
| **0**   | `0x0`  | 없음 (비정상 종료 or 오류 코드 기록 실패)       | 전원 문제, 손상된 덤프 기록, 시스템 강제 종료 시 발생할 수 있음. |
| **59**  | `0x3B` | `SYSTEM_SERVICE_EXCEPTION`                      | 커널 모드 서비스가 예외 발생. 메모리 접근 위반, 잘못된 드라이버 호출 등이 원인. |
| **313** | `0x139`| `KERNEL_SECURITY_CHECK_FAILURE`                 | 보안 검사 실패. 메모리 구조 훼손, 드라이버 스택 손상, RAM 오류 가능성도 있음. |
| **209** | `0xD1` | `DRIVER_IRQL_NOT_LESS_OR_EQUAL`                 | 드라이버가 잘못된 메모리 주소 접근. IRQ 수준 위반. 일반적으로 **드라이버 버그**가 원인. |
| **122** | `0x7A` | `KERNEL_DATA_INPAGE_ERROR`                      | 디스크 또는 페이지 파일에서 데이터를 로딩 중 실패. **디스크 문제, 메모리 컨트롤러, SSD 오류** 등 가능. |
| **10**  | `0xA`  | `IRQL_NOT_LESS_OR_EQUAL`                        | 잘못된 메모리 접근. 드라이버가 높은 IRQL에서 잘못된 주소 접근. 보통 **RAM 또는 드라이버** 이슈. |
| **30**  | `0x1E` | `KMODE_EXCEPTION_NOT_HANDLED`                   | 커널 모드 예외 미처리. 다양한 원인, 보통은 **드라이버나 시스템 콜 내부 예외** |
| **299** | `0x12B`| `FAULTY_HARDWARE_CORRUPTED_PAGE`                | **RAM 셀 손상 확정급** 오류. 하드웨어 오류로 특정 페이지가 손상됨. 거의 확실한 **메모리 불량** |

---

## 📌 요약 정리

### ✅ 메모리(RAM) 직접 관련:
- `0x1A`, `0x12B`, `0x7A`, `0x3B`, `0x139`, `0xA` → 총 6개
- 전부 RAM 또는 메모리 컨트롤러 손상/오류 가능성

### ⚠️ 드라이버/커널 이슈:
- `0xD1`, `0x1E`, `0x153` → 잘못된 드라이버 동작, 스택/락 손상

### ❌ 오류 기록 실패:
- `0x0` → 비정상 종료 (강제 전원 차단 등)

---

## 🔎 가장 심각한 신호들

| 코드 | 심각도 | 이유 |
|------|--------|------|
| `0x12B` | 🟥 매우 높음 | 하드웨어 페이지 자체 손상 → RAM 셀 이상 확정급 |
| `0x1A`, `0x7A` | 🟧 높음 | 메모리 할당/인페이지 실패 → RAM 오류 가능성 높음 |
| `0x3B`, `0x139` | 🟨 중간 | 드라이버 문제지만 메모리 구조 훼손 연관 가능성 있음 |

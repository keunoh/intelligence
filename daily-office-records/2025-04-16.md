## 📅 2025년 4월 16일 (수) 하루 회고

### 1. 오늘 한 일

#### 💼 업무
- **미적립 리워즈 포인트 / 미적립 B 포인트 문의 관련 작업**
  - 운영계 호환을 위해 남겨두었던 기존 호텔 코드 관련 `case` 문 제거
  - 불필요한 기존 호텔 코드 관련 YAML 설정값 정리
- 🔧 수정 파일:
  - `MembershipBPointsInquiryServiceImpl.java`
  - `MembershipPointsInquiryServiceImpl.java`
  - `application-loc.yml`
  - `application-dev.yml`
  - `application-stg.yml`
  - `application-prd.yml`

#### 📘 공부 및 기술 정리
- **카드 BIN 번호 정규식 이해 및 실무 적용**
  - Amex, UnionPay 등의 카드 번호 형식을 정규표현식으로 구분하는 방식 학습
- **Java 제네릭 타입 구조 파악**
  - `<?>`와 `<T>`의 차이, 선언 위치와 사용 시점에 따라 의미가 달라진다는 점 정리
- **Redis 기본 개념 및 활용 방식 정리**
  - Redis는 인메모리 기반 캐시 서버이며 key-value 구조로 동작
  - 주로 DB 캐싱, 세션 저장, 조회 성능 개선 등에 사용됨
  - AWS에서는 ElastiCache로 제공되며, Grafana에서 Exporter → Prometheus를 통해 모니터링 가능
- **WebView / WebApp / Native App의 차이점 정리**
  - WebView: 앱 내부에서 웹페이지를 보여주는 컴포넌트
  - WebApp: 브라우저에서 앱처럼 동작하는 웹 구조 (PWA)
  - Native App: 플랫폼 고유 언어로 구현된 정식 앱

---

### 2. 잘된 점 / 아쉬운 점

#### ✅ 잘된 점
- 실무 코드에서 카드 BIN 체크 로직의 흐름을 구조적으로 파악하고 명확히 이해함
- Redis의 시스템 구조와 역할을 정확히 연결지음 (캐시 → 서버 → 시각화)
- Java 제네릭에 대한 오해를 제거하고 선언/사용 패턴을 구조적으로 이해함
- 기술 개념을 단순히 "알았다"에서 그치지 않고, 실제 적용되는 흐름과 이유를 이해함

#### ⚠️ 아쉬운 점
- Redis Exporter → Prometheus → Grafana 연결 흐름은 정리만 되었고 실습까지 이어지지 못함

---

### 3. 내일 목표 🎯
- 카드 정규식 및 유효성 검사 로직을 코드 테스트로 구성해보기

---

## 💡 인사이트 / 깨달음

- 실무에서의 기술은 결국 **흐름의 연결성과 기록 습관**에 달려 있다
- Redis는 단순한 메모리 저장소가 아니라, **서비스 아키텍처 내의 빠른 통신 허브**가 될 수 있다
- 카드 BIN, 정규표현식, 로깅, DB조회 등 **도메인 + 기술 + 구조적 사고**가 동시에 중요하다

---

## 🧠 코딩 스타일 / 기억해둘 기준들
- **PVO는 필요한 시점 직전에 생성하고 값을 명시적으로 세팅한 뒤 API나 DB에 전달**한다 → 흐름이 명확하게 드러남
- **DB 조회 직전, 직후에 PVO와 결과값을 로깅하는 습관**을 들인다 → 문제 상황 발생 시 디버깅이 수월함
- “지저분한 코드”라는 감각은 리팩토링이 필요한 코드임을 알려주는 신호 → 그 감각을 무시하지 않기
- 기능만 구현된 코드라도 **왜 지저분하게 느껴졌는지에 대한 설명을 덧붙이며 기록**해두기 → 나중에 기준이 됨
- DB에 데이터를 insert할 때는 이모티콘(emoji)이나 특수문자 포함 여부를 반드시 고려한다
- Java에서는 String 타입 그대로 DB에 저장하면 이모티콘이 깨질 수 있으므로 문자 인코딩 설정 (utf8mb4, NVARCHAR) 확인 필요
- 사용자 입력을 받을 때는 String → DB → 화면 출력까지의 흐름에서 문자 손실이 없도록 유의
- “호출 주체가 null이면 NPE가 발생하고, 호출 주체가 null이 아니면 NPE는 발생하지 않는다”
- 이건 자바 전반의 보편적인 규칙 ->다만, null을 파라미터로 넘겼을 때의 처리 방식은 클래스마다 다르다.
- "문자열 비교는 리터럴을 앞에 두자" = null 안전성과 의도 명확성 모두 챙기는 실전 팁
- 기본적인 로직 구조를 다음처럼 인식하고 활용할 것:
  - DB 조회 또는 API 호출 시 필요한 PVO 세팅
  - DB or API 호출
  - 결과값을 RVO에 세팅하며, 실패 시 로직 분기 처리/ 기억해둘 기준들
- flag 변수는 흐름 제어를 유연하게 하기 위한 좋은 수단

# 📅 2025-04-11

## 🧠 오늘 한 일 요약

- Spring YAML에서 프로퍼티 코드 변경 시 운영 관점에서 고려해야 할 전략 학습
- YAML 내 Map 구조에서 Spring이 값을 어떻게 주입받는지 확인 및 테스트
- `@Value`와 `@ConfigurationProperties`의 차이를 정리하고 실제 적용 가능성 비교
- YAML을 `List<Map>` **구조로 구성했을 때의 장점과 단점 확인 (유**연하지만 직접 접근은 어려움)

## 🛠 문제 해결 내용

⚠️ YAML 구조를 배열(List)로 구성했을 경우, key-based 접근이 불가능함을 경험 → 순회 기반 접근 방식으로 우회

⚠️ 운영 중 코드 변경은 즉시 삭제보다 병행 적용이 우선되어야 함을 인식하고 기록

### 🔍 이슈: Spring YAML에서 placeholder 주입 오류 발생

- ``membership-points-inquiry.receiver.LTMY` 프로퍼티를 Map으로 가져오려고 했는데 오류 발생
- 이유: Spring에서 `@Value`는 단순한 값만 주입 가능하며, 복합적인 구조(Map 등)는 지원하지 않음

### ✅ 해결 방식

- `@Value` 대신 `@ConfigurationProperties` 방식은 추후 개인 프로젝트에서 실험해보기로 결정함
- 별도 설정 클래스를 만들고, YAML의 Map 구조를 그대로 매핑할 수 있도록 구성
- `receiver.get("LTMY")` 형식으로 간단하게 접근 가능해짐
- `Map<String, String>` 구조에서 가져오는 방식은 key 기반으로 직접 접근 가능함

## 🗂 관련 파일

- `/config/application.yml`
- `MembershipInquiryProperties.java`

> 복잡한 구조를 다룰 때는 `@ConfigurationProperties`가 훨씬 안정적이며, 이후 유지보수나 확장성에서도 유리함을 확인함.

